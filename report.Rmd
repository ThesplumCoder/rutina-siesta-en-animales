---
title: "Informe sobre modelos basados en los hábitos de sueño de mamíferos"
author: "Anderson Acuña, Duvan Guevara, Gabriel Chavarro"
date: "`r Sys.Date()`"
output: 
  html_document: 
    toc: true
    number_sections: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Cargue de datos

```{r}
animals_data <- read.csv("./data-mammals.csv")
```

```{r}
hist(animals_data$dreaming, 
     xlim = c(0, 8),
     ylim = c(0, 20),
     breaks = 10,
     col = "orange",
     main = "Histograma de sueño profundo en especies de mamíferos",
     xlab = "Horas de sueño",
     ylab = "Cantidad de especies")

hist(animals_data$total_sleep,
     xlim = c(0, 24),
     ylim = c(0, 15),
     breaks = 10,
     col = "lightblue",
     main = "Histograma de sueño total en especies de mamíferos",
     xlab = "Horas de sueño",
     ylab = "Cantidad de especies")
```

# Modelos usando regresión

## Estimación de la proporción de sueño profundo en función de factores ecológicos

### Entendimiento más profundo de las horas de sueño

Revisamos las características principales de nuestra variable a predecir, que en 
nuestro caso será la de sueños (`dreaming`). Haciendo el gráfico de caja para 
los datos de la variable vemos la presencia de 3 datos atípicos, que están 
distantes del "límite superior".
```{r}
boxplot(animals_data$dreaming,
        horizontal = TRUE,
        main = "Gráfico de caja para la variable de 'horas de sueño' mientras duerme")
```

Tomando el enfoque de obtener una métrica comparable entre especies, calculamos 
la proporción entre horas de sueño y horas totales (`dreaming / total_sleep`). 
Esta métrica ahora es libre de distorsiones que pueda aportar la especie en 
específico; además, concentró los datos redujendo la cantidad de puntos 
atípicos.
```{r}
dreaming_proportion <- animals_data$dreaming / animals_data$total_sleep

boxplot(dreaming_proportion,
        main = "Caja para la proporción de sueño sobre horas totales dormido",
        horizontal = TRUE)
```


```{r}
danger_frecuency <- sort(table(animals_data$danger), decreasing = TRUE)

barplot(danger_frecuency,
        ylim = c(0,  20),
        col = "red",
        main = "Participación en la escala de peligro",
        xlab = "Nivel de peligro",
        ylab = "Cantidad de especies")
```




